___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Ringostat V4",
  "brand": {
    "id": "brand_dummy",
    "displayName": "Ringostat",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Ringostat code for not connected to Google Analytics type of installation",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "projectHash",
    "displayName": "Project Hash",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "transportUrl",
    "displayName": "Transport URL",
    "simpleValueType": true,
    "defaultValue": "https://script.ringostat.com"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const createArgumentsQueue = require('createArgumentsQueue');

const transportUrl = data.transportUrl;
const projectHash = data.projectHash;
const injectScript = require('injectScript');
const url = transportUrl + '/v4/' + projectHash + '.js';
injectScript(url, data.gtmOnSuccess, data.gtmOnFailure, url);
const ringostatAnalytics = createArgumentsQueue('ringostatAnalytics', 'ringostatAnalytics.sendHit');
ringostatAnalytics.sendHit('pageview');


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": []
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://script.ringostat.com/v4/../[0-9a-f]{40}\\.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: ''


___NOTES___

Created on 22/12/2020, 18:45:23


